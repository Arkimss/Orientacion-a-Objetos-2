package ar.edu.unlp.info.oo2.Ejercicio_1;
import java.util.ArrayList;
import java.util.List;
public class User {

	private String screenName;
	private List<Post> tweets;
	

	public User(String screenName) {
		this.screenName= screenName;
		this.tweets = new ArrayList<Post>();
	}
	
	public boolean verificarLengthString (String texto) {
		return (texto.length() >= 1) && (texto.length() <= 280) ;
	}
	
	public void postear(String texto) {
		if(this.verificarLengthString(texto)) {
			this.tweets.add(new Tweet(texto));
		}
	}
	public void reTweetear(Tweet original) {
		this.tweets.add( new Retweet(original));
		
   }

	public boolean verificarScreenName(User user) {
		return this.screenName.equals(user.screenName);
	}

	public void eliminarTweets() {
		this.tweets.clear();
	}
	
// Devuelvo una copia de la lista para que no pueda ser modificada
	public List<Post> getTweets() {
		List<Post> res= new ArrayList<Post>();
		res.addAll(tweets);
		return res;
	}

	public void compararTweets(User user) {
		for(Post tweet : user.getTweets()){
			Post elementoABorrar= this.tweets.stream().filter(t -> t.esIgual(tweet)).findFirst().orElse(null);
			if(elementoABorrar != null) {
			this.tweets.remove(elementoABorrar);
			}
		   }     
		}
		
	}

}
